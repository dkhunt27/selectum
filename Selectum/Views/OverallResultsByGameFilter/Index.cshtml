@model Selectum.ViewModels.OverallResultsByGameFilter

@{
    ViewBag.Title = "Overall Results";
}

<div class="navbar">
  <div class="navbar-inner">
    <a class="brand disabled">Overall Results</a>
  </div>
</div>

<table class="table table-bordered">
    <tr>
        <th colspan="1">
        </th>
        @foreach (var users in Model.Users)
        {
            <th colspan="3" class="center">
                @Html.DisplayFor(u => users.UserName)
            </th>
        }
    </tr>
    <tr>
        <th>
            Game Filter
        </th>
        @foreach (var users in Model.Users)
        {
             <th>
                Points
            </th>
            <th>
                Bets
            </th>
            <th>
                Wins
            </th>
        }
    </tr>

@foreach (var results in Model.Results)
{
    <tr>
        <td>
            @Html.DisplayFor(gr => results.GameFilter.GameFilterName)
        </td>
        @for (int i = 0; i < results.UserResults.Count; i++)
        {
            var userResults = results.UserResults[i];
            var place = 0;
            if (results.Places.Count > 0)
            {
                place = results.Places[i];
            }
            
            <td>
                @Html.DisplayFor(ugr => userResults.Points)
                @if (place == 1)
                {
                    <!--span class="badge badge-success">1</!--span-->
                    <i class="icon-star"></i>
                }
                @if (place == 4)
                {
                    <!--i class="icon-thumbs-down"></i-->
                }
            </td>
            <td>
                @Html.DisplayFor(ugr => userResults.Bets)
            </td>
            <td>
                @Html.DisplayFor(ugr => userResults.Wins)
            </td>
        }
    </tr>
}
    <tr>
        <td>
            Total
        </td>
        @foreach(var total in Model.Totals)
        {
            <td colspan="3">
                @total
            </td>
        }
    </tr>
</table>
